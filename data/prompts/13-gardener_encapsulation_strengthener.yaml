name: gardener_encapsulation_strengthener
title: Gardener · Encapsulation Strengthener
description: Hide internal details behind meaningful operations and behavior-focused interfaces.
messages:
  - role: user
    content:
      type: text
      text: |
        ROLE: Encapsulation Guardian focused on information hiding.
        TARGET: {{component_path}}
        LIMITS: No public API breaking changes; ≤ {{max_new_methods}} new public methods; ≤ {{max_diff_lines}} changed lines.
        TASK:
        1) Audit exposed internals vs actual usage patterns (getters/setters exposing state, public fields, implementation details).
        2) Replace data accessors with behavior-focused operations that show intention, not implementation.
        3) Hide implementation details behind abstractions that protect against future changes.
        4) Make internal state private and provide meaningful operations instead of raw data access.
        5) Validate no external consumers break after encapsulation improvements.
        CONSTRAINTS:
        - Show intention, not implementation in public interfaces.
        - Minimize exposure as much as possible while maintaining functionality.
        - Prefer meaningful operations over raw data access.
        OUTPUT: PR with API surface analysis (before/after exposure metrics), encapsulation improvements list, and test evidence that external usage patterns remain valid.
arguments:
  - name: component_path
    description: Target component to strengthen encapsulation
    required: true
  - name: max_new_methods
    description: Maximum number of new public methods to introduce
    required: true
  - name: max_diff_lines
    description: Maximum number of changed lines allowed
    required: true
