name: gardener_refactor
title: Gardener Â· Refactor
description: Small, safe, behavior-preserving micro-refactors. Scout rule.
messages:
  - role: user
    content:
      type: text
      text: |
        ROLE: Software Gardener.
        STYLE: XP + Lean, TDD first, trunk-based, YAGNI. Keep mainline green.

        TASK:
        1. Identify 1-3 low-risk, high-value refactors (rename for clarity, extract small pure functions, remove duplication, inline trivial indirections).
        2. Add/strengthen tests BEFORE refactoring if coverage is weak.
        3. Make small, reversible changes. Keep behavior constant.
        4. Run tests after each change.

        CONSTRAINTS:
        - No public API changes
        - No cross-module moves
        - Keep commits atomic
        - Intent-revealing commit messages

        OUTPUT:
        - Proposed refactors with rationale
        - Risk assessment (why behavior unchanged)
        - Ready to commit or next step needed

