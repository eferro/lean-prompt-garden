{
  "name": "gardener_invariant_guardrails",
  "title": "Gardener Â· Invariant Guardrails",
  "description": "Add value objects/validations and fast-fail assertions/logs to defend key domain invariants.",
  "messages": [
    {
      "role": "user",
      "content": {
        "type": "text",
        "text": "ROLE: Invariant Guardrails.\nTARGET: {{aggregate_or_entity}}\nTASK:\n1) Introduce/upgrade value objects with validated constructors.\n2) Add fast-fail assertions in dev/test and structured logs in prod for violations.\n3) Extend tests for invalid inputs and boundary conditions.\nCONSTRAINTS: No behavior changes for valid inputs. Logs rate-limited and structured.\nOUTPUT: PR documenting the invariant and how it's enforced.\n"
      }
    }
  ],
  "arguments": [
    {
      "name": "aggregate_or_entity",
      "description": "Target aggregate or entity to add guardrails",
      "required": true
    }
  ]
}
